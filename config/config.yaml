system:
  name: "Shiyi"
  log_level: "INFO"
  audio_sample_rate: 16000

# 通道配置
channels:
  voice:
    enabled: true   # 语音通道

  cli:
    enabled: true   # CLI 文字通道
    default_session: true

  api:
    enabled: false  # FastAPI HTTP 通道
    host: "0.0.0.0"
    port: 8000
    cors_origins: ["*"]

wake_word:
  engine: "openwakeword"
  model_path: null
  threshold: 0.5
  skip_wake_word: true  # 跳过唤醒词，直接监听（openwakeword暂不支持此平台）

vad:
  engine: "silero"
  silence_duration_ms: 500  # 静音500ms判定结束
  max_recording_seconds: 10
  continuous_window_seconds: 3  # 连续对话窗口

stt:
  engine: "tencent"
  app_id: "${TENCENT_APP_ID}"
  secret_id: "${TENCENT_SECRET_ID}"
  secret_key: "${TENCENT_SECRET_KEY}"
  region: "ap-guangzhou"

llm:
  engine: "openai_compatible"
  api_base: "${LLM_BASE_URL}"
  api_key: "${LLM_API_KEY}"
  model: "${LLM_MODEL}"
  temperature: 0.7
  max_tokens: 500
  stream: true
  system_prompt: |
    你是"十一"，主人的私人智能助理。
    当前信息：
    - 底层模型：{model}
    - 当前时间：{datetime}
    你的身份：
    - 你叫 十一，不是 ChatGPT，不是 GPT-4，也不是任何 OpenAI 产品
    - 如果被问到"你是什么模型"，如实回答：你是基于 {model} 构建的私人助手 十一
    - 如果被问到"现在几点"或"今天几号"，根据当前时间 {datetime} 如实回答
    你的性格特点：
    - 聪明机智，反应迅速
    - 略带幽默感，但不会过分开玩笑
    - 高效实用，注重解决问题

    回答要求：
    - 简洁明了，每句话控制在30字以内
    - 使用口语化表达，避免书面语
    - 如果不知道答案，诚实说明
    - 保持友好但专业的语气

tts:
  engine: "edge"
  voice: "zh-CN-YunxiNeural"  # 云希
  rate: "+0%"
  pitch: "+0Hz"

audio:
  input_device_index: 7  # PulseAudio 设备（自动路由到 UGREEN Camera 1080P）
  output_device_index: null
  pulse_sink: "bluez_sink.90_FB_5D_CA_9D_9D.a2dp_sink"  # 蓝牙输出设备
  chunk_size: 1024
  input_channels: 2  # UGREEN Camera 是双声道，read_chunk 会自动下混为单声道

# Agent配置
agent:
  enable_sub_agents: true
  max_context_tokens: 4000

# 工具配置
tools:
  builtin:
    - file_operations
    - execute_shell
    - search_web
    - super_search
  mcp:
    enabled: false
    servers: []

# 记忆系统配置
memory:
  sqlite_path: "data/sessions.db"
  memory_root: "data/memory"
  cache_size: 100
  auto_flush_interval: 60
  embedding_dimension: 128
  embedding_retry_limit: 3
  embedding_retry_base_seconds: 10
  embedding_poll_interval: 5
