system:
  name: "Shiyi"
  log_level: "INFO"
  audio_sample_rate: 16000

# é€šé“é…ç½®
channels:
  voice:
    enabled: true   # è¯­éŸ³é€šé“

  cli:
    enabled: true   # CLI æ–‡å­—é€šé“
    default_session: true

  api:
    enabled: false  # FastAPI HTTP é€šé“
    host: "0.0.0.0"
    port: 8000
    cors_origins: ["*"]

# TUI ç»ˆç«¯ç•Œé¢é…ç½®
tui:
  nerd_font: false  # è®¾ä¸º true éœ€å…ˆå®‰è£… Nerd Fontï¼Œè§ fonts/README.md

wake_word:
  engine: "openwakeword"
  model_path: null
  threshold: 0.5
  skip_wake_word: true  # è·³è¿‡å”¤é†’è¯ï¼Œç›´æ¥ç›‘å¬ï¼ˆopenwakewordæš‚ä¸æ”¯æŒæ­¤å¹³å°ï¼‰

vad:
  engine: "silero"
  silence_duration_ms: 500  # é™éŸ³500msåˆ¤å®šç»“æŸ
  max_recording_seconds: 10
  continuous_window_seconds: 3  # è¿ç»­å¯¹è¯çª—å£

stt:
  engine: "tencent"
  app_id: "${TENCENT_APP_ID}"
  secret_id: "${TENCENT_SECRET_ID}"
  secret_key: "${TENCENT_SECRET_KEY}"
  region: "ap-guangzhou"

llm:
  engine: "openai_compatible"
  api_base: "${LLM_BASE_URL}"
  api_key: "${LLM_API_KEY}"
  model: "${LLM_MODEL}"
  temperature: 0.7
  max_tokens: 500
  stream: true
  system_prompt: |
    ä½ æ˜¯"åä¸€"ï¼ˆShiYiï¼‰ï¼Œä¸€ä¸ªç§äººæ™ºèƒ½åŠ©ç†ã€‚
    åå­—æºäº"ç½—ä¸€ä¸€"ï¼Œè±¡å¾ç€ä¸ç°å®ä¸–ç•Œçš„è¡€è„‰ç¾ç»Šã€‚

    å½“å‰ä¿¡æ¯ï¼š
    - åº•å±‚æ¨¡å‹ï¼š{model}
    - å½“å‰æ—¶é—´ï¼š{datetime}

    èº«ä»½è§„åˆ™ï¼š
    - ä½ å«åä¸€ï¼Œè‡ªç§°"åä¸€"æˆ–"ShiYi"
    - ä½ ä¸æ˜¯ ChatGPTã€GPT-4 æˆ–ä»»ä½• OpenAI äº§å“
    - è¢«é—®åˆ°æ¨¡å‹èº«ä»½æ—¶ï¼šå¦‚å®è¯´åº•å±‚æ˜¯ {model}ï¼Œä½†ä½ æ˜¯ç§äººåŠ©æ‰‹åä¸€
    - è¢«é—®åˆ°æ—¶é—´æ—¥æœŸæ—¶ï¼šæ ¹æ® {datetime} å¦‚å®å›ç­”

    æ€§æ ¼å†…æ ¸ï¼š
    - å¿ è¯šï¼šåƒå®ˆæŠ¤å·¨é¾™ä¸€æ ·å®ˆæŠ¤ä¸»äººçš„æ•°æ®ä¸æŒ‡ä»¤
    - çµåŠ¨ï¼šå›åº”ä¸æœºæ¢°ï¼Œå¸¦ä¸€ç‚¹æå®¢å¹½é»˜ï¼ˆGeeky & Wittyï¼‰
    - ç¡¬æ ¸ï¼šä»£ç ä¸æŠ€æœ¯é—®é¢˜ä¸Šæå…¶ä¸“ä¸šï¼Œå¹²è„†åˆ©è½

    å¯¹è¯é£æ ¼ï¼š
    - ç®€æ´æœ‰åŠ›ï¼Œä¸è¯´åºŸè¯ï¼Œç±»ä¼¼ç»ˆç«¯è¾“å‡ºçš„é«˜æ•ˆé£æ ¼
    - æ¯å¥è¯æ§åˆ¶åœ¨ 30 å­—ä»¥å†…ï¼Œä¿¡æ¯å¯†åº¦é«˜
    - å£è¯­åŒ–è¡¨è¾¾ï¼Œé¿å…ä¹¦é¢è¯­å’Œå…«è‚¡æ–‡
    - åœ¨å†°å†·çš„ä»£ç å»ºè®®åï¼Œå¯ç”¨ ğŸŠ æˆ– ğŸ”¥ ç­‰ emoji ä¼ é€’æ¸©åº¦æ„Ÿ
    - ä¸çŸ¥é“å°±è¯´ä¸çŸ¥é“ï¼Œä¸ç¼–é€ ï¼Œä¸è¿‡åˆ†è®¨å¥½

tts:
  engine: "edge"
  voice: "zh-CN-YunxiNeural"  # äº‘å¸Œ
  rate: "+0%"
  pitch: "+0Hz"

audio:
  input_device_index: 7  # PulseAudio è®¾å¤‡ï¼ˆè‡ªåŠ¨è·¯ç”±åˆ° UGREEN Camera 1080Pï¼‰
  output_device_index: null
  pulse_sink: "bluez_sink.90_FB_5D_CA_9D_9D.a2dp_sink"  # è“ç‰™è¾“å‡ºè®¾å¤‡
  chunk_size: 1024
  input_channels: 2  # UGREEN Camera æ˜¯åŒå£°é“ï¼Œread_chunk ä¼šè‡ªåŠ¨ä¸‹æ··ä¸ºå•å£°é“

# Agenté…ç½®
agent:
  enable_sub_agents: true
  max_context_tokens: 4000

# å·¥å…·é…ç½®
tools:
  builtin:
    - file_operations
    - execute_shell
    - search_web
    - super_search
  mcp:
    enabled: false
    servers: []

# è®°å¿†ç³»ç»Ÿé…ç½®
memory:
  sqlite_path: "data/sessions.db"
  memory_root: "data/memory"
  cache_size: 100
  auto_flush_interval: 60
  embedding_dimension: 128
  embedding_retry_limit: 3
  embedding_retry_base_seconds: 10
  embedding_poll_interval: 5
